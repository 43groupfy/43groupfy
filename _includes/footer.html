<!--
  The Footer
-->

<footer class="d-flex w-100 justify-content-center">
  <div class="d-flex justify-content-between align-items-center text-muted">
    <div class="footer-left">
      
      <!-- For site level visit count, note here is site pv
      <p class="mb-0">
        <span id="busuanzi_container_site_pv">Welcome, the site has been visited <span id="busuanzi_value_site_pv"></span> times.</span>
      </p>
      -->
      <p class="mb-0">
        <span>Welcome, the site has been visited 
          <em id="my_pv_from_google" class="pageviews">
            <i class="fas fa-spinner fa-spin fa-fw"></i>
          </em>
          times.
      </p>

      <p class="mb-0">
        Â© {{ 'now' | date: "%Y" }}
        <a href="{{ site.social.links[0] }}">{{ site.social.name }}</a>.
        {% if site.data.locales[lang].copyright.brief %}
        <span data-toggle="tooltip" data-placement="top"
          title="{{ site.data.locales[lang].copyright.verbose }}">{{ site.data.locales[lang].copyright.brief }}</span>
        {% endif %}
      </p>



    </div>

    <div class="footer-right">
      <p class="mb-0">
        {% capture _platform %}
          <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>
        {% endcapture %}

        {% capture _theme %}
          <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
        {% endcapture %}

        {{ site.data.locales[lang].meta
          | default: 'Powered by :PLATFORM with :THEME theme.'
          | replace: ':PLATFORM', _platform | replace: ':THEME', _theme
        }}

      </p>
    </div>

  </div> <!-- div.d-flex -->
  
</footer>

<script>
$(function () {
    //Get approximate page visit count using path "/"
    pageUrlroot = "/"
    $.ajax({
      url: 'https://my-api-service-344803.uc.r.appspot.com/apis/pageviews',
      type: 'GET',
      data: { "path": "/"},
      dataType: "json",
      success: function (data) {
        $.each(data, function (key, val) {
          if (key === pageUrlroot) {
            $('#my_pv_from_google').text(val)
          }
        })
      },
      error: function (xhr, textStatus) {
        console.log('error in ajax')
        console.log(xhr)
        console.log(textStatus)
      }
    })
})
</script>