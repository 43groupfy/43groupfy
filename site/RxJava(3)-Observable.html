<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>RxJava(3) - Observable</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Seize the day" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/img/favicons/favicon-32x32.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/RxJava(3)-Observable" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="PIGBEAN Tech blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="RxJava(3) - Observable" />
    <meta property="og:description" content="Observable 이란   Observable은 RxJava의 가장 핵심적인 요소이다. Observable을 잘 이해하는 것은 RxJava를 활용하는 데 매우 중요하다. 옵저버 패턴의 정의는 다음과 같다. 옵저버 패턴(observer pattern) 은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는" />
    <meta property="og:url" content="http://localhost:4000/RxJava(3)-Observable" />
    <meta property="og:image" content="http://localhost:4000/assets/img/post_images/rxjava_cover.jpeg" />
    <meta property="article:publisher" content="https://www.facebook.com/false" />
    <meta property="article:author" content="https://www.facebook.com/false" />
    <meta property="article:published_time" content="2022-01-13T17:13:00+09:00" />
    <meta property="article:modified_time" content="2022-01-13T17:13:00+09:00" />
    <meta property="article:tag" content="Rxjava" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="RxJava(3) - Observable" />
    <meta name="twitter:description" content="Observable 이란   Observable은 RxJava의 가장 핵심적인 요소이다. Observable을 잘 이해하는 것은 RxJava를 활용하는 데 매우 중요하다. 옵저버 패턴의 정의는 다음과 같다. 옵저버 패턴(observer pattern) 은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/img/post_images/rxjava_cover.jpeg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="PIGBEAN Tech blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Rxjava" />
    <meta name="twitter:site" content="@false" />
    <meta name="twitter:creator" content="@false" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
        }
        });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "PIGBEAN Tech blog",
        "logo": "http://localhost:4000/assets/img/favicons/android-chrome-256x256.png"
    },
    "url": "http://localhost:4000/RxJava(3)-Observable",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/img/post_images/rxjava_cover.jpeg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/RxJava(3)-Observable"
    },
    "description": "Observable 이란   Observable은 RxJava의 가장 핵심적인 요소이다. Observable을 잘 이해하는 것은 RxJava를 활용하는 데 매우 중요하다. 옵저버 패턴의 정의는 다음과 같다. 옵저버 패턴(observer pattern) 은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="RxJava(3) - Observable" href="/feed.xml" />



</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/img/favicons/android-chrome-256x256.png" alt="PIGBEAN Tech blog" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/Catty/">Catty</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-rxjava post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="13 January 2022">13 January 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/rxjava/'>RXJAVA</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">RxJava(3) - Observable</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/img/post_images/rxjava_cover.jpeg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h2 id="observable-이란">Observable 이란</h2>
<p> </p>

<p>Observable은 RxJava의 가장 핵심적인 요소이다. Observable을 잘 이해하는 것은 RxJava를 활용하는 데 매우 중요하다. 옵저버 패턴의 정의는 다음과 같다.</p>

<blockquote>
  <p>옵저버 패턴(observer pattern) 은 객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는 디자인 패턴이다. 주로 분산 이벤트 핸들링 시스템을 구현하는 데 사용된다. 발행/구독 모델로 알려져 있기도 하다.
<a href="https://ko.wikipedia.org/wiki/%EC%98%B5%EC%84%9C%EB%B2%84_%ED%8C%A8%ED%84%B4">옵저버 패턴 - 위키백과</a></p>
</blockquote>

<p>예를 들면, 안드로이드에서 Button이 클릭되었을 때 실행할 함수를 onclicklistener에 추가하는데 이와 같이 이벤트 핸들링 처리를 위해 사용되는 패턴이다. 이 패턴에는 Observable과 Observer가 등장한다.</p>

<ul>
  <li><strong>Osbservable</strong>: 등록된 Observer들을 관리하며, 새로운 데이터(이벤트)가 들어오면 등록된 Observer에게 데이터를 전달한다. 데이터를 생성해서 전달하기 때문에 Publisher(발행)라고 부른다.</li>
  <li><strong>Observer</strong>: Observable로 부터 데이터(이벤트)를 받을 수 있다. 데이터를 전달 받기 때문에 Subscriber(구독)라고 부른다.</li>
</ul>

<p>이처럼 Observable은 데이터 흐름에 맞게 알림을 보내 Observer가 데이터를 사용할 수 있도록 한다. 즉, Observable을 이용해 데이터를 회수하고 변환하는 메커니즘을 정의하고, Observer은 이를 구독해 데이터가 준비되면 이에 반응한다.</p>

<div style="text-align: left">
    <img src="/assets/img/post_images/rxjava3-1.png" width="100%" />
</div>

<p>그림에서 처럼 Observer pattern은 다음의 순서로 동작한다.</p>

<ol>
  <li>Observable이 데이터 스트림을 처리하고, 완료되면 데이터를 발행(<strong>emit</strong>)한다.</li>
  <li>데이터를 발행할 때마다 구독(<strong>Subscribe</strong>)하고 있는 모든 Observer가 알림을 받는다.</li>
  <li>Observer는 수신한 데이터를 가지고 어떠한 일을 한다. (데이터를 소비(<strong>Consume</strong>)한다.)</li>
</ol>

<p>데이터를 발행할 때 null은 발행할 수 없다.</p>

<p> </p>
<h2 id="emit--subscribe">Emit &amp; Subscribe</h2>
<p> </p>

<h3 id="observable의-데이터-발행-emit">Observable의 데이터 발행 (Emit)</h3>

<p>Observable이 데이터를 발행 한 후 보내는 알림에는 세 가지 종류가 있다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Emitter를 통해 알림을 보낸다고 생각하면 된다</span>
<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">Emitter</span><span class="o">&lt;</span><span class="nd">@NonNull</span> <span class="no">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">onNext</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="no">T</span> <span class="n">value</span><span class="o">);</span>
    <span class="kt">void</span> <span class="nf">onError</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Throwable</span> <span class="n">error</span><span class="o">);</span>
    <span class="kt">void</span> <span class="nf">onComplete</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">onNext</code> : 데이터의 발행을 알림</li>
  <li><code class="language-plaintext highlighter-rouge">onComplete</code> : 모든 데이터의 발행이 완료되었음을 알림, 딱 한 번만 발생하며 이후에 onNext가 발생하면 안됨</li>
  <li><code class="language-plaintext highlighter-rouge">onError</code> : 오류가 발생했음을 알림, 이후에 onNext와 onComplete가 발생하지 않음</li>
</ul>

<h3 id="subscribe">Subscribe</h3>

<p>구독(Subscribe)이란 단순하게 수신한 데이터를 가지고 할 행동을 정의하는 것이다. Observer는 <code class="language-plaintext highlighter-rouge">subsribe()</code> 메소드에서 수신한 각각의 알림에 대해 실행할 내용을 지정한다.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">final</span> <span class="nc">Disposable</span> <span class="nf">subscribe</span><span class="o">()</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="nc">Disposable</span> <span class="nf">subscribe</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">onNext</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="nc">Disposable</span> <span class="nf">subscribe</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">onNext</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Throwable</span><span class="o">&gt;</span> <span class="n">onError</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="nc">Disposable</span> <span class="nf">subscribe</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">onNext</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">Consumer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="nc">Throwable</span><span class="o">&gt;</span> <span class="n">onError</span><span class="o">,</span> <span class="nd">@NonNull</span> <span class="nc">Action</span> <span class="n">onComplete</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">subscribe</span><span class="o">(</span><span class="nd">@NonNull</span> <span class="nc">Observer</span><span class="o">&lt;?</span> <span class="kd">super</span> <span class="no">T</span><span class="o">&gt;</span> <span class="n">observer</span><span class="o">)</span>
</code></pre></div></div>

<p>Disposable class는 구독의 정상적인 해지를 돕는다.
onComplete 이벤트가 발생하면 dispose()를 호출해 Observable이 더 이상 데이터를 발행하지 않도록 구독을 해지한다.
또한 isDisposed()를 통해 구독이 해지되었는지 확인할 수 있다.</p>

<p> </p>
<h2 id="observable-생성하기">Observable 생성하기</h2>
<p> </p>

<p>이제 본격적으로 Observable을 사용해보자. RxJava에서는 <strong>연산자(Operator)</strong> 를 통해 기존 데이터를 참조, 변형하여 Observable을 생성할 수 있다. Observable을 생성하는 함수를 <strong>팩토리 함수</strong> 라고 하는데, 이 팩토리 함수는 다음 표처럼 구분할 수 있다.</p>

<table>
  <thead>
    <tr>
      <th>팩토리 함수</th>
      <th>함수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>RxJava 1.x 기본 팩토리 함수</td>
      <td>create(), just(), from()</td>
    </tr>
    <tr>
      <td>RxJava 2.x 추가 팩토리 함수 (from() 함수 세분화)</td>
      <td>fromArray(), fromIterable(), fromCallable(), fromFuture(), fromPublisher()</td>
    </tr>
    <tr>
      <td>기타 팩토리 함수</td>
      <td>interval(), range(), timer(), defer() 등</td>
    </tr>
  </tbody>
</table>

<p>이 중 일부를 살펴보자.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">just()</code> 함수
  <img src="/assets/img/post_images/rxjava3_just.png" alt="just()" />
  데이터를 발행하는 가장 쉬운 방법은 기존의 자료구조를 사용하는 것이다. just() 함수는 인자로 넣은 데이터를 차례로 발행하려고 Observable을 생성한다(실제 데이터의 발행은 subscribe() 함수를 호출해야 시작한다). 한 개의 값을 넣을 수도 있고 인자로 여러 개의 값(최대 10개)을 넣을 수도 있다. 단 타입은 모두 같아야 한다.
    <div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nc">Observable</span><span class="o">&lt;</span><span class="nc">String</span><span class="o">&gt;</span> <span class="n">source</span> <span class="o">=</span> <span class="nc">Observable</span><span class="o">.</span><span class="na">just</span><span class="o">(</span><span class="s">"PIGBEAN"</span><span class="o">,</span> <span class="s">"Tech"</span><span class="o">,</span> <span class="s">"Blog"</span><span class="o">);</span>
  <span class="n">source</span><span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="nc">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">());</span>
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PIGBEAN
  Tech
  Blog
</code></pre></div>    </div>
  </li>
  <li><code class="language-plaintext highlighter-rouge">create()</code> 함수
  <img src="/assets/img/post_images/rxjava3_create.png" alt="create()" />
  just() 함수는 데이터를 인자로 넣으면 자동으로 알림 이벤트가 발생하지만 create() 함수는 onNext, onComplete, onError 같은 알림을 개발자가 직접 호출해야 한다. 그래서 create()는 라이브러리가 무언가를 해준다기보다 개발자가 무언가를 직접 하는 느낌이 강한 함수이다.
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Observable&lt;String&gt; source = Observable.create(emitter -&gt; {
      emitter.onNext("PIGBEAN");
      emitter.onNext("Tech");
      emitter.onNext("Blog");
      emitter.onComplete();
  });
  source.subscribe(System.out::println);
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PIGBEAN
  Tech
  Blog
</code></pre></div>    </div>

    <p>이처럼 실행 결과는 <code class="language-plaintext highlighter-rouge">just()</code>를 사용했을 때와 같지만 개발자가 직접 <code class="language-plaintext highlighter-rouge">onNext()</code>, <code class="language-plaintext highlighter-rouge">onComplete()</code> 를 호출해야 한다는 것에서 차이가 있다. 앞서 설명했듯이 onComplete 이후에는 아이템에 더 발행되더라도 구독자는 데이터를 받지 못한다. 또한 오류가 발생했을 때는 <code class="language-plaintext highlighter-rouge">onError()</code>를 호출해서 에러 상황을 처리해야 한다.</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Observable&lt;String&gt; source = Observable.create(emitter -&gt; {
      emitter.onNext("PIGBEAN");
      emitter.onError(new Throwable());
      emitter.onNext("Tech");
      emitter.onNext("Blog");
  });
  source.subscribe(System.out::println,
      throwable -&gt; System.out.println("Good bye")
  );
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PIGBEAN
  Good bye
</code></pre></div>    </div>

    <p><strong>Observable.create()를 사용할때는 주의해야 한다.</strong>
  RxJava 문서에 따르면 create()는 RxJava에 익숙한 사용자만 활용하도록 권고한다. create()를 사용하지 않고 다른 팩토리 함수를 활용하면 같은 효과를 낼 수 있기 때문이다. 만약 그래도 사용해야 한다면 아래 사항을 확인해야 한다.</p>

    <ol>
      <li>Observable이 구독 해지(dispose)되었을때 등록된 콜백을 모두 해제해야 한다. 그렇지 않으면 잠재적으로 메모리 누수(memory leak)가 발생한다.</li>
      <li>구독자가 구독하는 동안에만 onNext와 onComplete 이벤트를 호출해야 한다.</li>
      <li>에러가 발생했을때는 오직 onError 이벤트로만 에러를 전달해야 한다.</li>
      <li>배압(back pressure)을 직접 처리해야 한다.</li>
    </ol>
  </li>
</ul>

<p> </p>
<blockquote>
  <p>just()나 create()는 단일 데이터를 다룬다. 단일 데이터가 아닐때는 fromXXX() 계열 함수를 사용한다. <strong>배열, 리스트 등의 자료구조나 Future, Callable, Publisher 등은 from으로 시작하는 연산자를 통해 간단히 Observable로 변환할 수 있다.</strong> 원래 RxJava 1.x에서는 from()과 fromCallable() 함수만 사용했었다. 그런데 from() 함수를 배열, 반복자, 비동기 계산 등에 모두 사용하다 보니 모호함이 있었다. 따라서 RxJava2에서는 from() 함수를 세분화했고 그중 하나가 아래 소개하는 fromArray() 함수이다.</p>
</blockquote>

<div style="text-align: left">
    <img src="/assets/img/post_images/rxjava3_from.png" width="100%" />
</div>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fromArray()</code> 함수</p>

    <p><code class="language-plaintext highlighter-rouge">fromArray()</code> 함수를 통해 배열의 아이템을 Observable로 바꿔 아이템을 순차적으로 발행할 수 있다.</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  String[] itemArray = new String[]{"PIGBEAN", "Tech", "Blog"};
  Observable source = Observable.fromArray(itemArray);
  source.subscribe(System.out::println);
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PIGBEAN
  Tech
  Blog
</code></pre></div>    </div>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">fromCallable()</code> 함수</p>

    <p>RxJava는 비동기 프로그래밍을 하기 위한 라이브러리이다. 이전까지 기본적인 자료구조로 Observable을 생성하는 부분을 살펴봤다면 이번에는 기존 자바에서 제공하는 비동기 클래스나 인터페이스와의 연동을 살펴볼 차례이다. 먼저 살펴보는 것은 자바 5에서 추가된 동시성 API인 Callable 인터페이스이다. 비동기 실행 후 결과를 반환하는 call() 메서드를 정의한다.</p>
    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  Callable&lt;String&gt; callable = () -&gt; "PIGBEAN tech blog";
  Observable source = Observable.fromCallable(callable);
  source.subscribe(System.out::println);
</code></pre></div>    </div>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  PIGBEAN Tech Blog
</code></pre></div>    </div>
  </li>
</ul>

<p> </p>
<h2 id="다양한-observable의-형태">다양한 Observable의 형태</h2>
<p> </p>

<p>Observable 스트림 이외에도 특별한 목적으로 사용되는 <code class="language-plaintext highlighter-rouge">Single</code>, <code class="language-plaintext highlighter-rouge">Maybe</code>, <code class="language-plaintext highlighter-rouge">Completable</code> 등의 특별한 스트림이 있다. 이들은 Observable로 변환될 수 있고, 반대로 Observable도 이들 스트림으로 변환될 수 있다.</p>

<h3 id="single">Single</h3>

<div style="text-align: left">
    <img src="/assets/img/post_images/rxjava3_single.png" width="100%" />
</div>
<p>Single은 단일 아이템만 발행한다. 이 특징 때문에 http 요청/응답 같은 이벤트 처리에 많이 쓰인다. Single을 사용해 http 이벤트에 실행 결과에 따른 <strong>응답 메시지</strong> 를 전달받아 추후 프로그램에 활용할 수 있다. 데이터를 한 번만 발행하기 때문에 onNext(), onComplete() 대신 <code class="language-plaintext highlighter-rouge">onSuccess()</code>를 사용해 데이터 발행이 완료됨을 알려준다. 오류처리는 Observable과 마찬가지로 <code class="language-plaintext highlighter-rouge">onError()</code>을 사용한다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Single.create(emitter -&gt; emitter.onSuccess("Success"))
    .subscribe(System.out::println);
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Success
</code></pre></div></div>

<p> </p>
<h3 id="completable">Completable</h3>

<p>Completable은 아이템을 발생하지 않고, 정상적으로 실행이 종료되었는 지에 대해 확인할 때 사용된다. http 이벤트를 처리할 때 응답 메시지를 받아보지 않고 그냥 http 이벤트가 잘 종료되었는 지만 확인하고 싶다면 Completable을 쓰면 된다. 아이템을 발행하지 않기 때문에 onNext()와 Single에서 쓰였던 onSuccess()는 쓰지 않고 <code class="language-plaintext highlighter-rouge">onComplete()</code>와 <code class="language-plaintext highlighter-rouge">onError()</code>만을 사용한다.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Completable.create(emitter -&gt; {
    System.out.println("OK")
    emitter.onComplete();
}).subscribe(() -&gt; System.out.println("Completed"));
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>OK
Completed
</code></pre></div></div>

<p> </p>
<h3 id="maybe">Maybe</h3>

<div style="text-align: left">
    <img src="/assets/img/post_images/rxjava3_maybe.png" width="100%" />
</div>
<p>Maybe는 Single과 Completable을 합쳐둔 느낌이다. Single처럼 아이템을 하나만 발행할 수도 있고, Completable처럼 발행하지 않을 수도 있다. 따라서 아이템을 발행했을 때에는 onSuccess()를 호출하고, 발행하지 않을 때에는 onComplete()를 호출한다. onSuccess() 이후에 다시 onComplete()를 호출할 필요는 없다.</p>

<p><br />
 </p>

<hr />
<p>참고 내용 출처 :</p>
<ul>
  <li><a href="https://blog.yena.io/studynote/">https://blog.yena.io/studynote/</a></li>
  <li><a href="https://12bme.tistory.com/570">https://12bme.tistory.com/570</a></li>
  <li>스다 토모유키, 『RxJava 리액티브 프로그래밍』, 이승룔, (주)도서출판 길벗(2019)</li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Bean" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Bean">Beanie</a></h4>
                                
                                    <p>Hello, I’m Beanie, always pondering and crafting services to make life fun and convenient</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Bean">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'http://localhost:4000/RxJava(3)-Observable';
                            var this_page_identifier = '/RxJava(3) - Observable';
                            var this_page_title = 'RxJava(3) - Observable';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://Beanie.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/img/style/bean3.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; PIGBEAN Tech blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/rxjava/">Rxjava</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/RxJava(2)-Reactive-Streams">RxJava(2) - Reactive Streams</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/RxJava(1)-%E1%84%80%E1%85%A2%E1%84%8B%E1%85%AD">RxJava(1) - 개요</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/rxjava/">
                                
                                    See all 2 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/LeetCode-1510.-Stone-Game-IV">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/coding_cover.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/LeetCode-1510.-Stone-Game-IV">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Coding</span>
                            
                        
                    

                    <h2 class="post-card-title">LeetCode - 1510. Stone Game IV</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>Idea

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/ghost.png" alt="Skinnig" />
                        
                        <span class="post-card-author">
                            <a href="/author/Pig/">Skinnig</a>
                        </span>
                    
                
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/RxJava(2)-Reactive-Streams">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/rxjava_cover.jpeg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/RxJava(2)-Reactive-Streams">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Rxjava</span>
                            
                        
                    

                    <h2 class="post-card-title">RxJava(2) - Reactive Streams</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>앞선 글에서 RxJava가 Reactive Streams 사양을 구현한다고 하였다. 따라서 Reactive Streams이 뭔지 자세히 알면 RxJava를 더 쉽게 이해할 수 있다. 그래서 이번 글에서는 Reactive Streams을 더 알아보았다.

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Beanie" />
                        
                        <span class="post-card-author">
                            <a href="/author/Bean/">Beanie</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      5 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/img/favicons/favicon-32x32.png" alt="PIGBEAN Tech blog icon" />
            
            <span>PIGBEAN Tech blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">RxJava(3) - Observable</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=RxJava%283%29+-+Observable&amp;url=https://beanie00.github.io/RxJava(3)-Observable"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://beanie00.github.io/RxJava(3)-Observable"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">PIGBEAN Tech blog</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
