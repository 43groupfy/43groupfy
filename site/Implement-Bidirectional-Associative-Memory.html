<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Bidirectional Associative Memory 구현</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Seize the day" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/img/favicons/favicon-32x32.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/Implement-Bidirectional-Associative-Memory" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

    <meta name="google-site-verification" content="X86eN2H5lW1jy6i7OLmOjBAyCf4N8PPVT0sBdIH57LE" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="PIGBEAN Tech blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Bidirectional Associative Memory 구현" />
    <meta property="og:description" content="Bidirectional Associative Memory (BAM) 이란?   BAM 은 Hopfield model을 확장한 모델이다. 여기서 또 Hopfield model이라는 것이 등장하는 데(..), 잠시 정리하고 넘어가자. Hopfield model 인공지능에서 가장 많이 사용되는 퍼셉트론(perceptron) 등은 학습 과정에서 weight가 점점 업데이트 되면서 최적 weight를 찾아간다. 이와 다르게 Hopfield network는 고정된 weight를 이용하여 정보를 연상한다. Hopfield network는" />
    <meta property="og:url" content="http://localhost:4000/Implement-Bidirectional-Associative-Memory" />
    <meta property="og:image" content="http://localhost:4000/assets/img/post_images/ai_cover2.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/false" />
    <meta property="article:author" content="https://www.facebook.com/false" />
    <meta property="article:published_time" content="2022-05-16T11:47:00+09:00" />
    <meta property="article:modified_time" content="2022-05-16T11:47:00+09:00" />
    <meta property="article:tag" content="Ai" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Bidirectional Associative Memory 구현" />
    <meta name="twitter:description" content="Bidirectional Associative Memory (BAM) 이란?   BAM 은 Hopfield model을 확장한 모델이다. 여기서 또 Hopfield model이라는 것이 등장하는 데(..), 잠시 정리하고 넘어가자. Hopfield model 인공지능에서 가장 많이 사용되는 퍼셉트론(perceptron) 등은 학습 과정에서 weight가 점점 업데이트 되면서 최적 weight를 찾아간다. 이와 다르게 Hopfield network는 고정된 weight를 이용하여 정보를 연상한다. Hopfield network는" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/img/post_images/ai_cover2.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="PIGBEAN Tech blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Ai" />
    <meta name="twitter:site" content="@false" />
    <meta name="twitter:creator" content="@false" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
        }
        });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "PIGBEAN Tech blog",
        "logo": "http://localhost:4000/assets/img/favicons/android-chrome-256x256.png"
    },
    "url": "http://localhost:4000/Implement-Bidirectional-Associative-Memory",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/img/post_images/ai_cover2.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/Implement-Bidirectional-Associative-Memory"
    },
    "description": "Bidirectional Associative Memory (BAM) 이란?   BAM 은 Hopfield model을 확장한 모델이다. 여기서 또 Hopfield model이라는 것이 등장하는 데(..), 잠시 정리하고 넘어가자. Hopfield model 인공지능에서 가장 많이 사용되는 퍼셉트론(perceptron) 등은 학습 과정에서 weight가 점점 업데이트 되면서 최적 weight를 찾아간다. 이와 다르게 Hopfield network는 고정된 weight를 이용하여 정보를 연상한다. Hopfield network는"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Bidirectional Associative Memory 구현" href="/feed.xml" />



</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/img/favicons/android-chrome-256x256.png" alt="PIGBEAN Tech blog" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/Catty/">Catty</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-ai post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="16 May 2022">16 May 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/ai/'>AI</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Bidirectional Associative Memory 구현</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/img/post_images/ai_cover2.jpg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h2 id="bidirectional-associative-memory-bam-이란">Bidirectional Associative Memory (BAM) 이란?</h2>
<p><br />
 
BAM 은 Hopfield model을 확장한 모델이다.
여기서 또 Hopfield model이라는 것이 등장하는 데(..), 잠시 정리하고 넘어가자.</p>

<h3 id="hopfield-model">Hopfield model</h3>
<p>인공지능에서 가장 많이 사용되는 퍼셉트론(perceptron) 등은 학습 과정에서 weight가 점점 업데이트 되면서 최적 weight를 찾아간다. 이와 다르게 Hopfield network는 고정된 weight를 이용하여 정보를 연상한다.
Hopfield network는 학습 패턴에 대해 계산된 고정 가중치 행렬을 저장하고, 입력 패턴이 들어올 때마다 가중치 행렬을 이용하여 입력 패턴에 대한 학습 패턴을 연상한다. 홉필드 네트워크 알고리즘은 아래와 같다.</p>

<p>1) 학습 패턴에 양극화 연산을 적용</p>

<p>2) 학습 패턴에 대한 홉필드 네트워크의 가중치 행렬을 계산</p>

<p>3) 계산된 가중치 행렬을 저장</p>

<p>4) 입력 패턴이 들어오면 저장된 가중치 행렬을 이용하여 입력 패턴에 대한 학습 패턴을 연상</p>

<h3 id="bam">BAM</h3>
<p>BAM은 이런 Hopfield model을 양방향으로 패턴이 연상 가능하도록 확장한 것이다. 즉, A와 B 두개의 패턴이 있을 때, A로부터 B를 연상할 뿐 아니라, 반대로 B로부터 A를 연상할 수도 있다. 이런 양방향 특징 때문에 다양한 분야에 폭 넓게 응용된다.</p>

<p>여기서 계속 <strong>연상</strong> 이라는 말을 사용하고 있는데 <strong>연상</strong> 을 어떻게 이해하면 될까?</p>

<p>가벼운 예시로 우리는 밖에서 강아지를 만나면 ‘어? 강아지다!’ 하는 생각을 한다. 강아지의 모습으로 부터 ‘강아지’라는 단어가 연상되었기 때문이다. 여기서 말하는 연상도 이와 유사하게 이해하면 된다. 확장하여 <strong>양방향 연상</strong> 은 강아지를 보고 ‘강아지’라는 단어를 연상하는 것에 더해 ‘강아지’라는 단어를 보고 강아지의 모습을 연상하는 것으로 이해해볼 수 있다.</p>

<p>그림으로 살펴보면, 아래 그림에서 BAM은 linear associator과 매우 유사하지만 자세히 보면 화살표 촉이 양쪽으로 연결되어 있는 것을 확인할 수 있다. 그리고 두 패턴의 집단(그림에서는 x, y로 표기됨)이 fully connected 되어 있음도 볼 수 있다. X에 포함된 요소들이 Y의 요소들과 완전히 연결되고, Y의 요소들도 X의 요소들로 완전히 연결된다.</p>

<div style="text-align: left">
  <img src="/assets/img/post_images/bam1.png" width="100%" />
</div>

<p>이 때, 두 집합을 서로 연결하여 각각을 연상해내기 위해서는 두 집합의 상관관계를 알아야 한다. 이 상관관계를 구하는 식은 다음과 같다.</p>

\[w_{ji} = \sum_{s=1}^{S} x_{i}^{s} y_{j}^{s}\]

<p>이 행렬은 BAM에서 매우 중요한데, 바로 BAM의 학습식이 된다! 바로 이 행렬이 각 집합으로 부터 나머지 집합을 연상하는 데 사용된다.</p>

\[y_{j} =  \left ( \sum_{i=1}^{I} w_{ji} x_{i} \right ), ~~x_{i} =  \left ( \sum_{j=1}^{J} w_{ji} y_{j} \right )\]

<p><br />
 
 </p>
<h2 id="bam-구현">BAM 구현</h2>
<p> </p>

<p>이제 이 내용을 기반으로 본격적으로 BAM을 구현해보자. class method 중 <code class="language-plaintext highlighter-rouge">update_weight()</code>는 위의 수식에서 $w_{ji}$ 를, <code class="language-plaintext highlighter-rouge">feedForward()</code>는 $y_{j}$, <code class="language-plaintext highlighter-rouge">feedBackward()</code>는 $x_{i}$ 를 구하는 식을 파이썬으로 구현한 함수이다.</p>

<h3 id="bam-class-구현">BAM class 구현</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">random</span> <span class="k">as</span> <span class="n">rand</span>

<span class="k">class</span> <span class="nc">BAM</span><span class="p">:</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">random</span><span class="o">=</span><span class="bp">False</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">row_count</span> <span class="o">=</span> <span class="n">n</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">col_count</span> <span class="o">=</span> <span class="n">p</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">make_new_weight_matrix</span><span class="p">()</span>

  <span class="k">def</span> <span class="nf">make_new_weight_matrix</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">]</span><span class="o">*</span><span class="bp">self</span><span class="p">.</span><span class="n">col_count</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">row_count</span><span class="p">)</span> <span class="p">]</span>

  <span class="k">def</span> <span class="nf">update_weight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
    <span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">make_new_weight_matrix</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">)):</span>
      <span class="n">sample_in</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="n">sample_out</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">row_count</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">col_count</span><span class="p">):</span>
          <span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">+=</span> <span class="n">sample_in</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">*</span> <span class="n">sample_out</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>

  <span class="c1"># Generate x from y
</span>  <span class="k">def</span> <span class="nf">feedForward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span> <span class="n">np</span><span class="p">.</span><span class="n">mat</span><span class="p">(</span><span class="nb">input</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">mat</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span><span class="p">)</span> <span class="p">).</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

  <span class="c1"># Generate y from x
</span>  <span class="k">def</span> <span class="nf">feedBackward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">(</span> <span class="n">np</span><span class="p">.</span><span class="n">mat</span><span class="p">(</span><span class="n">output</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="p">.</span><span class="n">matrix</span><span class="p">.</span><span class="n">transpose</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">mat</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span><span class="p">))</span> <span class="p">).</span><span class="n">tolist</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">x</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

  <span class="k">def</span> <span class="nf">computeEnergy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
    <span class="n">e</span> <span class="o">=</span> <span class="mf">0.0</span>
    <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">)):</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">output</span><span class="p">)):</span>
            <span class="n">e</span> <span class="o">+=</span> <span class="bp">self</span><span class="p">.</span><span class="n">weight_matrix</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">*</span> <span class="nb">input</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">*</span> <span class="n">output</span><span class="p">[</span><span class="n">c</span><span class="p">]</span>
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">e</span>
</code></pre></div></div>

<p> </p>

<h3 id="데이터-생성">데이터 생성</h3>
<p>이제 본격적으로 BAM으로 학습을 시켜보자. 학습을 위해서 데이터를 생성해준다.
학습 데이터셋은 S개의 $(x^{s}, y^{s})$ 로 이루어져 있다. 이 때 $x^{s}$ 는 1024개의 element, $y^{s}$ 512개의 element로 구성된다. 각각의 element는 50% 확률로 1, -1의 값을 가진다.</p>

<p>또한, 다양한 비교를 위하여 S가 각각 50, 100, 200일 때 데이터 D50, D100, D200 를 생성하였다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="c1"># S=50
</span><span class="n">x50</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
<span class="n">y50</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>

<span class="c1"># S=100
</span><span class="n">x100</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
<span class="n">y100</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>

<span class="c1"># S=200
</span><span class="n">x200</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">1024</span><span class="p">))</span>
<span class="n">y200</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="n">choice</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">512</span><span class="p">))</span>
</code></pre></div></div>

<p> </p>

<h3 id="bam-학습-노이즈가-없는-경우">BAM 학습 (노이즈가 없는 경우)</h3>
<p>이제 정말로 BAM으로 연상을 시작해보자. S개의 데이터 각각을 input, output으로 하여 총 10번의 iteration 동안 <code class="language-plaintext highlighter-rouge">feedForward()</code>, <code class="language-plaintext highlighter-rouge">feedBackward()</code> 과정을 반복한 뒤, 계산된 output과 true output의 차이를 비교하였다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">copy</span>

<span class="n">bam</span> <span class="o">=</span> <span class="n">BAM</span><span class="p">(</span><span class="mi">1024</span><span class="p">,</span> <span class="mi">512</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">train_wo_noise</span><span class="p">(</span><span class="n">num_iteration</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">):</span>
    <span class="n">error_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
    <span class="n">bam</span><span class="p">.</span><span class="n">update_weight</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="nb">input</span><span class="p">)):</span>
      <span class="n">test_input</span> <span class="o">=</span> <span class="nb">input</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="n">test_output</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
      <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_iteration</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">bam</span><span class="p">.</span><span class="n">feedForward</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span>
        <span class="n">error_list</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">([</span><span class="mi">1</span> <span class="k">if</span> <span class="n">test_output</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">else</span> <span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">y</span><span class="p">))])</span>
        <span class="n">test_input</span> <span class="o">=</span> <span class="n">bam</span><span class="p">.</span><span class="n">feedBackward</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

    <span class="c1"># plot error
</span>    <span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">([</span><span class="n">e</span> <span class="o">/</span> <span class="mi">50</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">error_list</span><span class="p">])</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'number of different elements'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'epoch'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'Average of all output errors'</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">train_wo_noise</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">x50</span><span class="p">,</span> <span class="n">y50</span><span class="p">)</span>
</code></pre></div></div>

<p>위의 코드를 실행시키면 아래의 그래프가 출력된다.</p>

<div style="text-align: left">
  <img src="/assets/img/post_images/bam2.png" width="100%" />
</div>

<p>noise가 없는 경우에는 에러 없이 output이 잘 연상되는 것을 볼 수 있다.</p>

<p> </p>

<h3 id="bam-학습-노이즈가-있는-경우">BAM 학습 (노이즈가 있는 경우)</h3>
<p>이번에는 input에 노이즈를 주고 위의 과정을 다시 진행해보았다. 각 데이터셋마다 $x^{10}$ 에 노이즈를 준다. 노이즈를 주기 위해서 $x^{10}$ 의 특정 개수의 element에 -1 ~ 1사의의 랜덤한 값을 더하였다.
그리고 다양한 비교를 위하여 노이즈를 주는 element의 갯수를 0, 1, 2, 3, 5, 7, 10, 15, 20, 30, 50, 100으로 나누어 진행해주었다.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">make_noise_input</span><span class="p">(</span><span class="n">num_noise</span><span class="p">,</span> <span class="nb">input</span><span class="p">):</span>
  <span class="n">randomlist</span> <span class="o">=</span> <span class="n">rand</span><span class="p">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span> <span class="o">-</span> <span class="mi">1</span><span class="p">),</span> <span class="n">num_noise</span><span class="p">)</span>
  <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">randomlist</span><span class="p">:</span>
    <span class="k">if</span> <span class="nb">input</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
      <span class="nb">input</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
      <span class="nb">input</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
  <span class="k">return</span> <span class="nb">input</span>

<span class="k">def</span> <span class="nf">train_w_noise</span><span class="p">(</span><span class="n">num_noise_list</span><span class="p">,</span> <span class="n">num_iteration</span><span class="p">,</span> <span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">,</span> <span class="n">num_elements</span><span class="p">):</span>
  <span class="n">total_error_list</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="n">bam</span><span class="p">.</span><span class="n">update_weight</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">output</span><span class="p">)</span>

  <span class="c1"># noise 갯수 별로 반복해서 train
</span>  <span class="k">for</span> <span class="n">num_noise</span> <span class="ow">in</span> <span class="n">num_noise_list</span><span class="p">:</span>
    <span class="n">error_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
    <span class="c1"># x^10에 대해 10개의 서로 다른 noisy input을 생성하고 실행
</span>    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
      <span class="n">test_input</span> <span class="o">=</span> <span class="n">make_noise_input</span><span class="p">(</span><span class="n">num_noise</span><span class="p">,</span> <span class="nb">input</span><span class="p">[</span><span class="mi">10</span><span class="p">])</span>
      <span class="n">test_output</span> <span class="o">=</span> <span class="n">output</span><span class="p">[</span><span class="mi">10</span><span class="p">]</span>
      <span class="c1"># num_iteration 수 만큼 반복하여 실행
</span>      <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_iteration</span><span class="p">):</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">bam</span><span class="p">.</span><span class="n">feedForward</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span>
        <span class="n">error_list</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="o">+=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">test_output</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">j</span><span class="p">)</span>
        <span class="n">test_input</span> <span class="o">=</span> <span class="n">bam</span><span class="p">.</span><span class="n">feedBackward</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
    <span class="n">total_error_list</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">e</span> <span class="o">/</span> <span class="mi">10</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">error_list</span><span class="p">])</span>

  <span class="c1"># plot error
</span>  <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">total_error_list</span><span class="p">)):</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">total_error_list</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="s">'{} noisy elements'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">num_noise_list</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">'number of different elements'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">'epoch'</span><span class="p">)</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">title</span><span class="p">(</span><span class="s">'[D{}] Average of all output errors with noisy input'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">num_elements</span><span class="p">))</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s">'center left'</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
  <span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>

<span class="n">num_noise_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">train_w_noise</span><span class="p">(</span><span class="n">num_noise_list</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x50</span><span class="p">,</span> <span class="n">y50</span><span class="p">)</span>
<span class="n">train_w_noise</span><span class="p">(</span><span class="n">num_noise_list</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x100</span><span class="p">,</span> <span class="n">y100</span><span class="p">)</span>
<span class="n">train_w_noise</span><span class="p">(</span><span class="n">num_noise_list</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">x200</span><span class="p">,</span> <span class="n">y200</span><span class="p">)</span>
</code></pre></div></div>

<p>코드를 실행시키면 아래의 그래프가 출력된다.</p>

<div style="text-align: left">
  <img src="/assets/img/post_images/bam3.png" width="100%" />
</div>

<div style="text-align: left">
  <img src="/assets/img/post_images/bam4.png" width="100%" />
</div>

<p>에러가 없던 noise 없는 경우와는 달리, noise element가 많을 수록 에러가 커진다. 이 에러는 iteration이 진행되는 동안 점점 감소되는 양상을 보인다.
또한, D200인 경우가 D50인 경우보다 학습에 어려움이 있음도 확인할 수 있다.</p>

<p><br />
 </p>

<hr />

<p>참고 내용 출처 :</p>
<ul>
  <li><a href="http://www.aistudy.co.kr/neural/BAM.htm">http://www.aistudy.co.kr/neural/BAM.htm</a></li>
  <li><a href="https://untitledtblog.tistory.com/7">https://untitledtblog.tistory.com/7</a></li>
</ul>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Bean" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Bean">Beanie</a></h4>
                                
                                    <p>Hello, I’m Beanie, always pondering and crafting services to make life fun and convenient</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Bean">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'http://localhost:4000/Implement-Bidirectional-Associative-Memory';
                            var this_page_identifier = '/Implement Bidirectional Associative Memory';
                            var this_page_title = 'Bidirectional Associative Memory 구현';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://Beanie.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/img/style/bean3.jpg)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; PIGBEAN Tech blog &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/ai/">Ai</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Transformer">Transformer</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Dropout">Dropout (Mathmatical approach)</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/Implement-Multi-layer-perceptron-(from-scratch)">Implement Multi layer perceptron (from scratch)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/ai/">
                                
                                    See all 6 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Implement-DQN">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/ai_cover.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Implement-DQN">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Rl</span>
                            
                        
                            
                                <span class="post-card-tags">Coding</span>
                            
                        
                    

                    <h2 class="post-card-title">Deep Q-Network(DQN) 구현</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p> 
DQN 이란?
 

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Beanie" />
                        
                        <span class="post-card-author">
                            <a href="/author/Bean/">Beanie</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      3 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Uploading-Files-to-S3-with-Presigned-URL">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/catty_cover2.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Uploading-Files-to-S3-with-Presigned-URL">
                <header class="post-card-header">
                    
                        
                            
                                <span class="post-card-tags">Catty</span>
                            
                        
                    

                    <h2 class="post-card-title">Uploading Files to S3 with Presigned URL</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>AWS S3 is a great place to keep online service assets such as images or large files. The AWS SDK provides the putObject function to upload binaries to S3. This comes in handy</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/images/ghost.png" alt="Skinnig" />
                        
                        <span class="post-card-author">
                            <a href="/author/Pig/">Skinnig</a>
                        </span>
                    
                
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/img/favicons/favicon-32x32.png" alt="PIGBEAN Tech blog icon" />
            
            <span>PIGBEAN Tech blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Bidirectional Associative Memory 구현</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Bidirectional+Associative+Memory+%EA%B5%AC%ED%98%84&amp;url=https://beanie00.github.io/Implement-Bidirectional-Associative-Memory"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://beanie00.github.io/Implement-Bidirectional-Associative-Memory"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">PIGBEAN Tech blog</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
