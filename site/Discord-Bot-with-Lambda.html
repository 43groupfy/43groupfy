<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>Discord Bot with Lambda</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Seize the day" />
    <link rel="shortcut icon" href="http://localhost:4000/assets/img/favicons/favicon-32x32.png" type="image/png" />
    <link rel="canonical" href="http://localhost:4000/Discord-Bot-with-Lambda" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="PIGBEAN Tech blog" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Discord Bot with Lambda" />
    <meta property="og:description" content="Prerequisites   Set up an AWS account Knowledge on setting up basic Lambda function with Serverless framework Experience with Javscript/Typescript Set up a bot profile on discord Goal   Set up a discord bot interactions endpoint with AWS Lambda and API Gateway to activate/deactivate Minecraft server hosted on EC2 with" />
    <meta property="og:url" content="http://localhost:4000/Discord-Bot-with-Lambda" />
    <meta property="og:image" content="http://localhost:4000/assets/img/post_images/discord.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/false" />
    <meta property="article:author" content="https://www.facebook.com/false" />
    <meta property="article:published_time" content="2021-12-09T14:21:00+09:00" />
    <meta property="article:modified_time" content="2021-12-09T14:21:00+09:00" />
    <meta property="article:tag" content="Discord" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Discord Bot with Lambda" />
    <meta name="twitter:description" content="Prerequisites   Set up an AWS account Knowledge on setting up basic Lambda function with Serverless framework Experience with Javscript/Typescript Set up a bot profile on discord Goal   Set up a discord bot interactions endpoint with AWS Lambda and API Gateway to activate/deactivate Minecraft server hosted on EC2 with" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000/assets/img/post_images/discord.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="PIGBEAN Tech blog" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Discord" />
    <meta name="twitter:site" content="@false" />
    <meta name="twitter:creator" content="@false" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
        tex2jax: {
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
            inlineMath: [['$','$']]
        }
        });
    </script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "PIGBEAN Tech blog",
        "logo": "http://localhost:4000/assets/img/favicons/android-chrome-256x256.png"
    },
    "url": "http://localhost:4000/Discord-Bot-with-Lambda",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000/assets/img/post_images/discord.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/Discord-Bot-with-Lambda"
    },
    "description": "Prerequisites   Set up an AWS account Knowledge on setting up basic Lambda function with Serverless framework Experience with Javscript/Typescript Set up a bot profile on discord Goal   Set up a discord bot interactions endpoint with AWS Lambda and API Gateway to activate/deactivate Minecraft server hosted on EC2 with"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="Discord Bot with Lambda" href="/feed.xml" />



</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/img/favicons/android-chrome-256x256.png" alt="PIGBEAN Tech blog" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-getting-started" role="menuitem"><a href="/tag/Catty/">Catty</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-discord tag-lambda post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 9 December 2021"> 9 December 2021</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/discord/'>DISCORD</a>,
                            
                        
                            
                               <a href='/tag/lambda/'>LAMBDA</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">Discord Bot with Lambda</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/img/post_images/discord.jpg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h2 id="prerequisites">Prerequisites</h2>
<p> </p>
<ul>
  <li>Set up an AWS account</li>
  <li>Knowledge on setting up basic Lambda function with Serverless framework</li>
  <li>Experience with Javscript/Typescript</li>
  <li>Set up a bot profile on discord</li>
</ul>

<h2 id="goal">Goal</h2>
<p><br />
 
Set up a discord bot interactions endpoint with AWS Lambda and API Gateway to activate/deactivate Minecraft server hosted on EC2 with commands</p>

<h2 id="experiment-journal">Experiment Journal</h2>
<p><br />
 
After reminiscing with a friend about the good old days of playing minecraft together in our server, we decided to start up a fresh new server and get back into it(a<del>ll roads lead down to minecraft..</del>).</p>

<div style="text-align: left">
   <img src="/assets/img/post_images/discord1.jpg" width="100%" />
</div>

<p>Fun times…</p>

<p>This time however, hosting the server on my laptop and keeping it on standby for my friend to join wasn’t viable since I was often on the move. That leaves either subscribing to minecraft realms, or hosting it on a cloud computing provider like AWS.</p>

<p>After looking through <a href="https://dev.to/julbrs/how-to-run-a-minecraft-server-on-aws-for-less-than-3-us-a-month-409p">this</a> excellent guide on setting up a minecraft server on EC2 by Julien Bras, it seemed like hosting on EC2 was the cheaper option for 2~3 players. Unfortunately, since t3.tiny EC2 instance available under AWS free tier was not powerful enough for a minecraft server and running other instance types 24/7 would cost more than just subscribing to realms, I needed to make an activate and kill switch for the server.</p>

<p>Julien’s guide used SES detecting incoming emails to start up the server and automatically shut down after 8 hours, but since we were going to set up a discord group anyway, I felt that it would be more convenient to have a discord bot.</p>

<p><strong>Preparing the bot interactions endpoint</strong></p>

<p>After setting up a bot profile on <a href="https://discord.com/developers/applications">discord</a>, I needed to make a backend application on Lambda to serve the bot. On the <a href="https://discord.com/developers/docs/interactions/receiving-and-responding">official discord documentation</a>, there are two base prerequisites the server needs to fulfill for the api endpoint to be registered as a bot interaction endpoint. Attempting to register the endpoint before meeting the requirements will resulted in an error in discord.</p>

<div style="text-align: left">
   <img src="/assets/img/post_images/discord7.png" width="100%" />
</div>

<ol>
  <li>Respond to a PING request</li>
</ol>
<div style="text-align: left">
    <img src="/assets/img/post_images/discord4.png" width="100%" />
</div>

<p>Official discord documentation on PING request</p>

<p>To test if the server is ready to respond to the bot’s requests, it will send out a PING request to the server, signified as a type 1(PING) request. Responding to this request is simple, the server just needs to return a similar response of type 1(PONG). I’ve done this by defining a special type 1 response in my response wrapper function.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">(</span><span class="nx">data</span><span class="p">:</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">type</span><span class="p">:</span> <span class="nx">number</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">type</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="na">statusCode</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
            <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Headers</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Content-Type, Access-Control-Allow-Headers, Authorization, RefreshToken, X-Requested-With</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Credentials</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="na">type</span><span class="p">:</span> <span class="mi">1</span> <span class="p">})</span>
        <span class="p">};</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="p">{</span>
        <span class="na">statusCode</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">Access-Control-Allow-Origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Access-Control-Allow-Headers</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Content-Type, Access-Control-Allow-Headers, Authorization, RefreshToken, X-Requested-With</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">Access-Control-Allow-Credentials</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="p">},</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
            <span class="na">type</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">tts</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="na">content</span><span class="p">:</span> <span class="nx">data</span>
            <span class="p">}</span>
        <span class="p">})</span>
    <span class="p">};</span>
<span class="p">}</span>
    <span class="s2">```

2. Validate request signatures

&lt;div style="text-align: left"&gt;
    &lt;img src="/assets/img/post_images/discord5.png" width="100%"/&gt;
&lt;/div&gt;

Official discord documentation on validating signatures

As the documentation explains, this step is required by discord to ensure that our server does not allow access from anywhere except our bot. The bot will send a 'x-signature-ed25519’ in the request header, which is the encoded form of the request body and current timestamp. The request will also include the used timestamp in the headers as 'x-signature-timestamp’.

Validating the signature requires the use of a NaCl library for Javascript, tweetnacl. Since NaCl library is not part of the standard libraries on Lambda, adding a layer is required. To do this, I created an independent node package containing the NaCl library with npm, and zipped it up to be used as a layer in my project directory.

&lt;div style="text-align: left"&gt;
    &lt;img src="/assets/img/post_images/discord6.png" width="100%"/&gt;
&lt;/div&gt;

Then, I added the following lines to serverless.yml to add this layer to deployment package

```</span><span class="nx">jsx</span>
<span class="nx">layers</span><span class="p">:</span>
    <span class="nx">serverbotLayer</span><span class="p">:</span>
    <span class="kr">package</span><span class="p">:</span>
        <span class="nx">artifact</span><span class="p">:</span> <span class="nx">layers</span><span class="o">/</span><span class="nx">minecraft_server</span><span class="p">.</span><span class="nx">zip</span>
    <span class="nx">compatibleRuntimes</span><span class="p">:</span> <span class="nx">nodejs12</span><span class="p">.</span><span class="nx">x</span>
    <span class="nx">description</span><span class="p">:</span> <span class="dl">"</span><span class="s2">node modules for serverbot</span><span class="dl">"</span>
</code></pre></div></div>

<p>One last preparation step to validate incoming signature is finding out my bot’s public key, which can be found under the ‘general information’ section of the bot page. Remember to keep this key stored safely elsewhere and refer to it instead of exposing it in the code.</p>

<div style="text-align: left">
    <img src="/assets/img/post_images/discord2.png" width="100%" />
</div>

<p>Now, all that’s left is to follow discord documentation’s sample code and validate the incoming signatures.</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">const</span> <span class="nx">discordHandler</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">event</span><span class="p">:</span> <span class="nx">lambda</span><span class="p">.</span><span class="nx">APIGatewayProxyEvent</span><span class="p">,</span> <span class="nx">context</span><span class="p">:</span> <span class="nx">lambda</span><span class="p">.</span><span class="nx">Context</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">event receieved: </span><span class="dl">'</span><span class="p">,</span> <span class="nx">event</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">x-signature-ed25519</span><span class="dl">'</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">headers</span><span class="p">[</span><span class="dl">'</span><span class="s1">x-signature-timestamp</span><span class="dl">'</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">body</span> <span class="o">=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span> <span class="c1">// rawBody is expected to be a string, not raw bytes</span>

    <span class="kd">const</span> <span class="nx">isVerified</span> <span class="o">=</span> <span class="nx">nacl</span><span class="p">.</span><span class="nx">sign</span><span class="p">.</span><span class="nx">detached</span><span class="p">.</span><span class="nx">verify</span><span class="p">(</span>
        <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">timestamp</span> <span class="o">+</span> <span class="nx">body</span><span class="p">),</span>
        <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">signature</span><span class="p">,</span> <span class="dl">'</span><span class="s1">hex</span><span class="dl">'</span><span class="p">),</span>
        <span class="nx">Buffer</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">secrets</span><span class="p">.</span><span class="nx">PUBLIC_KEY</span><span class="p">,</span> <span class="dl">'</span><span class="s1">hex</span><span class="dl">'</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isVerified</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">//on valid signature</span>
        <span class="k">try</span> <span class="p">{</span>
            <span class="k">switch</span> <span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">case</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="k">return</span> <span class="nx">response</span><span class="p">(</span><span class="dl">""</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">//respond to ping request</span>
                    <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">return</span> <span class="nx">response</span><span class="p">(</span><span class="dl">"</span><span class="s2">An error has occured: </span><span class="dl">"</span> <span class="o">+</span> <span class="nx">error</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="c1">//invalid signature</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="na">statusCode</span><span class="p">:</span> <span class="mi">401</span><span class="p">,</span>
            <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Origin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Headers</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Content-Type, Access-Control-Allow-Headers, Authorization, RefreshToken, X-Requested-With</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Access-Control-Allow-Credentials</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="p">},</span>
            <span class="na">body</span><span class="p">:</span> <span class="dl">"</span><span class="s2">invalid request signature</span><span class="dl">"</span>
        <span class="p">};</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ol>
  <li>Set up the endpoint with Serverless framework</li>
</ol>

<p>Register the discordHandler function on serverless.yml and deploy!</p>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">functions</span><span class="p">:</span>
    <span class="nx">discordHandler</span><span class="p">:</span>
    <span class="nx">handler</span><span class="p">:</span> <span class="nx">handler</span><span class="p">.</span><span class="nx">discordHandler</span>
    <span class="nx">layers</span><span class="p">:</span>
        <span class="o">-</span> <span class="p">{</span> <span class="na">Ref</span><span class="p">:</span> <span class="nx">ServerbotLayerLambdaLayer</span> <span class="p">}</span> <span class="c1">//lambda layer reference</span>
    <span class="nl">events</span><span class="p">:</span>
        <span class="o">-</span> <span class="nx">http</span><span class="p">:</span>
            <span class="nx">path</span><span class="p">:</span> <span class="o">/</span>
            <span class="nx">method</span><span class="p">:</span> <span class="nx">post</span>
</code></pre></div></div>

<p>After the function has been uploaded to lambda, I can now register the endpoint on the bot without any errors.</p>

<div style="text-align: left">
    <img src="/assets/img/post_images/discord3.png" width="100%" />
</div>

<p>Copy and paste the endpoint url from API gateway here</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/ghost.png" alt="Pig" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Pig">Skinnig</a></h4>
                                
                                    <p>I'm Dong Hyeok Kim (Skinnig) BS student @ KAIST CS & Back End Software Engineer & Co-founder @ DearPlants</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Pig">Read More</a>
                        </div>
                    
                
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'http://localhost:4000/Discord-Bot-with-Lambda';
                            var this_page_identifier = '/Discord Bot with Lambda';
                            var this_page_title = 'Discord Bot with Lambda';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://Beanie.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/MUI-%EB%AC%B4%EB%A3%8C-template%EB%A1%9C-%EB%94%94%EC%9E%90%EC%9D%B4%EB%84%88-%EC%97%86%EC%9D%B4-%EC%9B%B9%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/mui_cover.jpg)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/MUI-%EB%AC%B4%EB%A3%8C-template%EB%A1%9C-%EB%94%94%EC%9E%90%EC%9D%B4%EB%84%88-%EC%97%86%EC%9D%B4-%EC%9B%B9%EC%84%9C%EB%B9%84%EC%8A%A4-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0">
                <header class="post-card-header">
                    

                    <h2 class="post-card-title">MUI 무료 template로 디자이너 없이 웹서비스 개발하기</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>회사 개발 프로젝트로 빠르게 웹앱을 개발해야 할 일이 생겼다. 그렇지만 팀리소스가 부족해 디자이너가 없는 상황에서 웹서비스를 개발해야 했다.

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Beanie" />
                        
                        <span class="post-card-author">
                            <a href="/author/Bean/">Beanie</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      2 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/Capacitor%EC%99%80-Vue.js%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%84%9C-cross-platform-%EB%AA%A8%EB%B0%94%EC%9D%BC-%EC%95%B1-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0">
                <div class="post-card-image" style="background-image: url(/assets/img/post_images/vue_cover.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/Capacitor%EC%99%80-Vue.js%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%84%9C-cross-platform-%EB%AA%A8%EB%B0%94%EC%9D%BC-%EC%95%B1-%EA%B0%9C%EB%B0%9C%ED%95%98%EA%B8%B0">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Vue</span>
                            
                        
                            
                                <span class="post-card-tags">Capacitor</span>
                            
                        
                    

                    <h2 class="post-card-title">(작성중) Capacitor와 Vue.js를 이용해서 cross-platform 모바일 앱 개발하기</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>이번 글에서는 21.10월부터 21.11월 2달 동안 외주 개발 프로젝트 개발한 하이브리드 앱에 Vue.js와 Capacitor를 적용해본 경험을 공유하려고 한다. 결론적으로 말하면 많이 불편했고 다시는 사용하지 않을 방법이다. 이후에 하이브리드 앱은 리액트 웹뷰로 하이브리드 앱을</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                
                    
                        
                        <img class="author-profile-image" src="/assets/img/style/beanie.png" alt="Beanie" />
                        
                        <span class="post-card-author">
                            <a href="/author/Bean/">Beanie</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/img/favicons/favicon-32x32.png" alt="PIGBEAN Tech blog icon" />
            
            <span>PIGBEAN Tech blog</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">Discord Bot with Lambda</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=Discord+Bot+with+Lambda&amp;url=https://beanie00.github.io/Discord-Bot-with-Lambda"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://beanie00.github.io/Discord-Bot-with-Lambda"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">PIGBEAN Tech blog</a> &copy; 2022</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    

    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69281367-1', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
