---
title: 언리얼 엔진 소스 컨트롤
layout: post
author: littley
date: 2023-03-14 00:00:00 +0900
categories: [UnrealEngine, UE5]
tags: [UE5]
toc: true
toc_sticky: true
---

## 소스 컨트롤의 필요성

1. 맨날 코딩을 깃허브로 하다 보니, 그날 그날 공부를 마칠 때 마다 커밋 및 푸쉬를 하던게 습관이 되서, 매일 매일 변화를 직접적으로 체감하지 못하는 지금의 상황이 너무나 답답하다..
2. 집 데스크탑과 노트북으로 같이 프로젝트를 진행하다 보니 그때그때 폴더를 압축해서 옮기는 방식은 상당히 비효율적으로 느껴진다. 애초에 하루 하루 변경되는 소스 코드의 양 자체는 많지 않으니까..

---

## 깃허브

아무래도 익숙한 것이 깃허브다 보니 일단 깃으로 진행하는 방법을 알아보았다. 

### 1. Rider 내 깃허브 시도(실패)

Rider 자체가 IDE다 보니까 vscode에서 터미널로 깃 관리하는 것처럼 당연히 이걸로 하면 되겠지! 하다가 몇몇 파일이 깃허브의 제한인 100MB를 넘어가기도 하고, 올릴 파일 무시할 파일을 나누지 않고 한꺼번에 다 올리다 보니 시간도 오래 걸리는 단점이 있었다.

생각해보면 Makefile에서 오브젝트 파일을 gitignore에 넣어두는 것처럼 언리얼도 빌드를 할 때마다 생성되는 파일들은 굳이 소스 컨트롤을 하지 않아도 된다. 오히려 이 파일들이 들어가 있으면 보기가 더 복잡하다. 

### 2. 소스 컨트롤에 포함할 파일과 아닌 파일 구분하기

C++ 기반 소스가 포함된 프로젝트는 다음과 같은 하위 디렉토리를 가진다.

- 프로젝트명.uproject
- Config
- Content
- Saved
- Intermediate
- Build (빌드하면 생기는 파일)
- **Source**
- **Binaries**
- **.vs**
- **프로젝트명.sln**
- *Plugins (옵션)*

다음은 소스 컨트롤을 할 때 필요 없는 파일들이다.

- **Saved : 자동 저장, 로그, 스크린샷 같은 파일들이 저장됩니다.**
- **Intermediate : 임시 파일들이 주로 저장이 됩니다.    
    (C++ 같은 경우는 VS 프로젝트 파일이 저장됩니다.)**
- **Build : 패키징하면 생기는 파일, 패키징하지않으면 생기지 않습니다.**
- **.vs**
- **프로젝트명.sln**

그러므로 `.gitignore`를 예로 들면 /Saved, /Intermediate, /Build, /.vs, /*.sln 를 추가하면 된다.

다음은 추가를 고려할만한 폴더다.
- **Content : 일반적으로 마켓플레이스 등에서 받은 애셋이 들어가는 폴더다.**  

이 폴더는 여러 부분에서 문제가 될 수 있는데,   
**1. 100MB를 넘어가는 파일은 깃에서는 에러가 발생한다. 추가적으로 `git-lfs` 등을 이용해주어야 한다.**   
**2. 애셋이 들어가 있으므로 `public` 리포지토리에 올리면 저작권 문제 등이 생길 수 있다.**   
**3. 어찌저찌해서 올렸다고 하더라도, 용량이 큰 폴더기 때문에 풀 및 푸시 시간을 오래 잡아먹는 주범이 된다.**
이왕이면 구글 드라이브 등으로 애셋은 따로 올리고, 나머지 소스 파일들만 깃허브에 올리도록 하자.

라고 써놓고 Unreal에서 git 소스 컨트롤을 하니 이미 이 친구들은 `.gitignore`에 들어가 있었다.  
다른 방법으로 Github Desktop 등에서 언리얼용 `.gitignore` 템플릿을 제공해 주기도 하니 참고하면 좋다.

---

## 참고

[[Tistoty] 협업시 관리해야할 언리얼 엔진 4 디렉토리에 대하여](https://somworks.tistory.com/21)

[[Tistory] Git과 Perforce에 대해서](https://cru6548.tistory.com/37)