---
title: 랜딩페이지 제작을 위한 갖가지 시행착오들...(아임웹->우피->리액트 라이브러리)
author: Bean
date: 2022-04-20 16:32:00 +0800
categories: [Projects]
tags: [Catty]
layout: post
current: post
class: post-template
subclass: 'post'
navigation: True
cover: assets/img/post_images/catty_cover2.png
---

크던 작던 거의 모든 서비스에는 그에 맞는 랜딩페이지가 있다. 나도 서비스를 만들면서 랜딩페이지를 제작하려고 많이 알아봤는데 `빠르게 만들 수 있고` `유지보수가 쉬운` 랜딩페이지 제작툴을 많이 서치했다.

그렇지만 아이러니하게도 좋다고 생각하고 사용한 툴이 불편해서 옮기고 옮기고 하다보니 결국 리액트로 직접 개발하는게 나름 가장 괜찮은 방법(`빠르고, 유지보수 쉽고, 공짜`)이란 걸 깨달았다(!?)

&nbsp;
## 웹사이트 빌더(아임웹)을 이용해볼까?
&nbsp;

처음에는 아임웹 같은 웹사이트 빌더를 사용하면 가장 쉽고 빠르게 만들 수 있을 거라고 생각했다. 그렇지만 이런 빌더에서 제공하는 기능만 사용할 수 있어 사이트 디자인을 자유롭게 할 수 없었다. 또한 모바일 최적화 기능을 제공하기는 하지만 자동으로 모바일-웹 변환을 해주는 것이 아니라 별도의 작업으로 또 모바일 버전을 만들어야 했다. 이런 툴을 사용해서 정말 괜찮은 랜딩페이지를 만드려면 포토샵이나 일러로 따로 디자인 작업을 많이 한 다음에 빌더에서는 합치기만 해야 그나마 잘 나오는 거 같다. 무엇보다 문제가 되었던게 가격이었는데 다국어 페이지(한국어, 영어 동시 지원)를 만드려면 한달에 5만원(..)의 비용을 지불해야 했다. 그렇다고 한국어/영어 간의 도메인 전환이 매끄러운 것도 아니어서 많이 불편했다.

빌더를 만지작 거리면서 랜딩페이지를 완성을 하긴 했다.

<div style="text-align: left">
   <img src="/assets/img/post_images/landingpage1.png" width="100%"/>
</div>
<div style="text-align: left">
   <img src="/assets/img/post_images/landingpage2.png" width="100%"/>
</div>

&nbsp;
## 그렇다면 노션으로 만드는 건 어떨까?
&nbsp;

그래서 그 다음으로 생각한 것이 노션으로 웹사이트를 만드는 것이었다. 요즘 스타트업들이 노션으로 resume도 많이 만들고 랜딩페이지 및 채용사이트도 많이 만들곤 한다. 그러다보니 노션으로 웹사이트를 만드는 것을 도와주는 `우피` 같은 서비스도 등장하였다. 노션은 이미지나 표 등 다양한 형식을 담을 수 있으면서 페이지 이동이 자유롭고 무엇보다 빠르게 제작할 수 있어 괜찮은 방법이라고 생각했다. `우피` 서비스 사용에는 월 5000의 비용이 청구된다.

<div style="text-align: left">
   <img src="/assets/img/post_images/landingpage3.png" width="100%"/>
</div>
<div style="text-align: left">
   <img src="/assets/img/post_images/landingpage4.png" width="100%"/>
</div>

그렇게 열심히 노션을 꾸미고 우피에 도메인 연결을 해서 배포까지 완료하였다. 이전보다 깔끔해지고 또 수정도 쉬워지고 무엇보다 가격이 5만원에서 5천원으로 줄어서(..) 좋긴 했으나 그러나 디자인 형식이 제한되어 있다는 점과 웹앱과 랜딩페이지가 다른 플랫폼에서 관리되고 있다는 것이 여전히 불편했다. 그리고 개인적으로는 아직까지는 우피의 기능이 많지 않아 5000원의 가격이 점점 아깝다는 생각도 들었다.

&nbsp;
## 이럴바엔 그냥 리액트로 개발을 하자!
&nbsp;

그래서 결국 돌고돌아 그냥 리액트로 직접 개발을 하기로 했다. 개발을 하기에 앞서 여러 landing page template를 찾아보았다. 그중에서 MIT 라이센스이면서 괜찮아 보이는 것 몇가지를 참고해서 랜딩페이지를 제작하였다. 사실 대부분은 그냥 간단한 작업들이었고 조금 특징적인 거라면 동영상처럼 스크롤이 내려갈 때 마다 그 위치의 component가 올라오는 것 정도 있을 거 같다.

### LazyShow 구현

<div style="text-align: left">
  <video width="100%" controls Autoplay=autoplay src="/assets/img/post_images/landingpage5.mov"></video>
</div>

이 기능은 `framer-motion` 이라는 라이브러리를 사용하면 구현할 수 있다. 아래 이 슬라이브 뷰의 구현 코드를 정리하였다.

먼저 useOnScreen hook를 정의하여 컴포넌트가 화면에 들어오는 순간을 캐치하도록 하고, 이 후 `framer-motion`을 이용해 해당 컴포넌트에 애니메이션을 주는 방식으로 구현 가능하다.

```html
import React, { MutableRefObject, useEffect, useRef, useState } from 'react';

import { motion, useAnimation } from 'framer-motion';

function useOnScreen(
  ref: MutableRefObject<HTMLDivElement | null>,
  rootMargin = '0px'
) {
  const [isIntersecting, setIntersecting] = useState(false);

  useEffect(() => {
    let currentRef: any = null;
    const observer = new IntersectionObserver(
      ([entry]) => {
        if (entry?.isIntersecting) setIntersecting(entry?.isIntersecting);
      },
      {
        rootMargin,
      }
    );
    if (ref && ref?.current) {
      currentRef = ref.current;
      observer.observe(currentRef);
    }
    return () => {
      observer.unobserve(currentRef);
    };
  }, [ref, rootMargin]); // Empty array ensures that effect is only run on mount and unmount

  return isIntersecting;
}

const LazyShow = ({ children }: { children: React.ReactChild }) => {
  const controls = useAnimation();
  const rootRef = useRef<HTMLDivElement>(null);
  const onScreen = useOnScreen(rootRef);
  const initial = { opacity: 0, y: 50 }
  useEffect(() => {
    if (onScreen) {
      controls.start({
        y: 0,
        opacity: 1,
        transition: {
          duration: 0.5,
          ease: 'easeOut',
        },
      });
    }
  }, [onScreen, controls]);
  return (
    <motion.div
      className="lazy-div"
      ref={rootRef}
      initial={initial}
      animate={controls}
    >
      {children}
    </motion.div>
  );
};

export default LazyShow;
```

이렇게 구현하니 무엇보다 돈이 안들고! 또 웹앱과 랜딩페이지가 하나의 폴더 안에 있어 관리하기가 매우매우 편리해졌다. 완성된 랜딩페이지는 [https://www.cattynote.com/](https://www.cattynote.com/)에 접속해서 확인할 수 있다.