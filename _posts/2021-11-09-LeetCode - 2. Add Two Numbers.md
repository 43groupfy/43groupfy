---
title: LeetCode - 2. Add Two Numbers
author: Pig
date: 2021-11-09 20:55:00 +0800
categories: [Algorithm, LeetCode]
tags: []
layout: post
current: post
class: post-template
subclass: 'post'
navigation: True
cover:  assets/img/post_images/coding_cover.jpg
---

### Bean code
```javascript
/**
 * Definition for singly-linked list.
 * function ListNode(val, next) {
 *     this.val = (val===undefined ? 0 : val)
 *     this.next = (next===undefined ? null : next)
 * }
 */
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function(l1, l2) {
    var output = []
    var overflow = false
    var sum = 0
    while(true) {
        sum = (l1 ? l1.val : 0) + (l2 ? l2.val : 0)
        if (overflow) {
            sum = sum + 1
        }
        if (sum > 9) {
            output.push(sum - 10)
            overflow = true
        } else {
            output.push(sum)
            overflow = false
        }
        if ((l1 && l1.next) || (l2 && l2.next) || overflow) {
            l1 = l1 ? l1.next : null
            l2 = l2 ? l2.next : null
        } else {
            if (output.length > 1) {
                var nextNode = new ListNode(output[output.length - 1], undefined)
                var preNode
                for (var i = output.length - 2; i >= 0; i--) {
                    preNode = new ListNode(output[i], nextNode)
                    nextNode = preNode
                }
                return preNode
            } else {
                return new ListNode(output[0], undefined)
            }
        }
    }
};
```

### Pig Code

```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution:
    def addTwoNumbers(self, l1: Optional[ListNode], l2: Optional[ListNode]) -> Optional[ListNode]:
        if not l1:
            pointer = l2
            while pointer:
                if pointer.val >= 10:
                    pointer.val -= 10
                    if pointer.next:
                        pointer.next.val += 1
                    else:
                        pointer.next = ListNode(1,None)
                    pointer = pointer.next
                else:
                    break
            return l2
        elif not l2:
            pointer = l1
            while pointer:
                if pointer.val >= 10:
                    pointer.val -= 10
                    if pointer.next:
                        pointer.next.val += 1
                    else:
                        pointer.next = ListNode(1,None)
                    pointer = pointer.next
                else:
                    break
            return l1
        elif l1.val + l2.val >= 10:
            if l1.next:
                l1.next.val += 1
            else:
                l1.next = ListNode(1, None)
            return ListNode(l1.val+l2.val-10, self.addTwoNumbers(l1.next,l2.next))
        else:
            return ListNode(l1.val+l2.val, self.addTwoNumbers(l1.next, l2.next))
```

### Good Code(Javascript)
```javascript
/**
 * Definition for singly-linked list.
 * function ListNode(val) {
 *     this.val = val;
 *     this.next = null;
 * }
 */
/**
 * @param {ListNode} l1
 * @param {ListNode} l2
 * @return {ListNode}
 */
var addTwoNumbers = function(l1, l2) {
    let node = null
    const carry = arguments[2]
    if (l1 || l2) {
        const val1 = l1 ? l1.val : 0
        const val2 = l2 ? l2.val : 0
        const next1 = l1 ? l1.next : null
        const next2 = l2 ? l2.next : null
        const val = carry ? val1 + val2 + 1 : val1 + val2
        node = new ListNode(val % 10)
        node.next = addTwoNumbers(next1, next2, val >= 10)
    } else if (carry) {
        node = new ListNode(1)
        node.next = null
    }
    return node
};
```

### Good Code(Python)
```python
# Definition for singly-linked list.
# class ListNode:
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next

class Solution(object):
    def addTwoNumbers(self, l1, l2):
        """
        :type l1: ListNode
        :type l2: ListNode
        :rtype: ListNode
        """
        result = ListNode(0)
        result_tail = result
        carry = 0

        while l1 or l2 or carry:
            val1  = (l1.val if l1 else 0)
            val2  = (l2.val if l2 else 0)
            carry, out = divmod(val1+val2 + carry, 10)

            result_tail.next = ListNode(out)
            result_tail = result_tail.next

            l1 = (l1.next if l1 else None)
            l2 = (l2.next if l2 else None)

        return result.next
```
