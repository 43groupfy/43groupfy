---
title: Project- Parrying Sword
date: 2024-04-12 16:50:00 +/-0900
categories: [Project, Unity]
tags: [project, unity, rogue-lite, hunting action] # TAG names should always be lowercase
---

![icon](assets/img/parringsword/ParryingSowrdIcon.png)
[깃허브 링크](https://github.com/Lagooneng/ParryingSword)
<br>
[개발일지 링크](https://lagooneng.tistory.com/category/%EC%9C%A0%EB%8B%88%ED%8B%B0%20%EA%B2%8C%EC%9E%84%20%EA%B0%9C%EB%B0%9C/%EB%A9%94%EC%9D%B8%20%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8%3A%20%20Parrying%20Sowrd)

## 프로젝트 설명

<br>

Parrying Sword는 Unity Engine으로 만들어진 로그라이트 헌팅액션 장르의 게임입니다.<br>
로그라이트, 헌팅액션 두 가지 장르의 관점으로 살펴볼 수 있습니다

- ### 로그라이트

![stageUML](assets/img/parringsword/stageUML.png)
로그라이트란, 매번 달라지는 요소들(특히 스테이지)이 존재하고,<br>
해당 요소들을 생성하는 규칙이 있으며 플레이어는 이러한 요소들을 이용하고 극복해 나가는 장르입니다.<br>
위의 이미지는 스테이지를 생성하는 클래스 다이어그램입니다.<br>
<br>
우선 맵의 조각이 있고, 각각의 조각은 왼쪽이 뚫려있거나(L타입), 왼쪽과 오른쪽이 뚫려있는(LR타입) 등<br>
어떤 방향이 뚫려 있는지에 따라 타입을 부여받습니다. 그리고 뚫려있는 방향이 옆 맵과 이어지면(ex. L타입-R타입) 해당 맵들은 자연스럽게 연결됩니다.<br>
<br>
그리고 일단 스타트 지점과 엔드 지점이 있으면, 양 쪽 지점을 이을 수 있는 Main Road를 만들어줍니다.<br>
각각의 맵 조각이 이어지도록 생성하는 규칙이 있습니다.<br>
스타트 지점과 엔드 지점을 이을 수 있는 길을 만들고, 나머지 지형은 이전 지형에 따라 어느정도 가중치를 두어 자연스럽게 생성되도록 하였습니다.<br>
<br>
각각의 맵 조각의 실제 구현은 유니티에서 지원하는 프리팹 기능을 이용해 만들어야 합니다.<br>
각각의 조각들을 타입에 맞게 여러개 미리 만들어놓고 등록하면 타입에 맞는 조각들 중 하나가 뽑아져서 다양한 맵이 만들어질 것입니다.<br>
<br>
이러한 시스템은 로그라이트 장르의 Spelunky 시리즈에서 비슷한 맵의 구조가 간혹 나오는 것을 보고 맵의 구조를 예측하는 사람들이 있는 것을 보고,<br>
이런 식으로 구현하지 않았을까 생각이 들어 설계하게 되었습니다.
<br>

![map1](assets/img/parringsword/map1.png)
이처럼 시작하기 전에는 맵이 존재하지 않지만,
<br><br>

![map2](assets/img/parringsword/map2.png)
게임이 시작하면 규칙에 따라 맵이 생성됩니다.<br>
그리고 각 맵의 조각에는 소형 몬스터가 설정되어 있는 경우도 있는데,<br>
몬스터들을 피하거나 쓰러뜨려서 피해를 최소화시키며 각 스테이지를 통과하고 보스 스테이지에 도달하게 됩니다.<br>
이러한 과정을 위해 와이어액션이나 벽타기 등의 액션을 만들어두었습니다.<br>

<hr>

- ### 헌팅 액션

![hunting1](assets/img/parringsword/hunting1.png)

헌팅 액션이란 거대한 몬스터를 '사냥'하는 장르입니다.<br>
몬스터와 직접적으로 전투하는 것이 메인인 만큼, 몬스터의 패턴에 공을 들였습니다.<br>
다른 게임들과 차별화 할만한 점은, 프로젝트 이름처럼 Parrying, 공격을 받아치는 것입니다.<br>
적의 공격을 타이밍을 잘 맞춰서 받아칠 수가 있습니다.<br>
<br>
받아치는 것에 성공하면 이펙트가 나오며 큰 대미지를 주고, 더 강한 공격으로 연계가 가능해집니다.<br>
그렇다고 패링 공격만 있는 것은 아니며, 기본 공격이 2개 존재하는데 베기 -> 찌르기 연계가 가능합니다.<br>
<br>
또한, 패링 후 연계되는 강한 공격은 딜레이가 커서 위험하고, 패링 자체도 딜레이를 크게 설정해 두었기에 적의 연계 공격에 취약합니다.<br>
그래서 패링 성공 이후에는 딜레이가 적은 찌르기로 연계가 가능합니다. 연계를 통해 상대 몬스터의 공격을 파훼해야 합니다.<br>
<br>

![hunting2](assets/img/parringsword/hunting2.png)

<br>
물론 대형 몬스터 말고도, 일반 스테이지 진행 시 등장하는 소형 몬스터에 대처하는 것 또한 중요합니다.<br>
체력 회복의 수단은 한정적이고, 몬스터들의 공격 방식은 몬스터마다 다르기에 플레이어는 도망칠지, 패링할지, 일반 공격을 할지 고려해야 합니다.<br>
<br>
위 이미지의 경우 플레이어와의 벡터를 계산해 불을 날리는 몬스터입니다. 이 밖에도 다양한 행동 원리를 몬스터들이 있습니다.<br>
<br>
이 프로젝트 구상의 계기와 같은 요소입니다.<br>
몬스터헌터 시리즈를 하는데 굉장히 재밌어서 헌팅 액션 장르로 만들고 싶었습니다.<br>
여기에 로그라이트 장르까지 더해서 기본 게임의 틀이 잡혔습니다.<br>

<hr>

## 액션의 모티브

<hr>

## 프로젝트 진행 중 있었던 이슈

1. ### 로그라이트 시스템 구성
2. ### 와이어 액션 구현
3. ### 물 구현과 최적화 문제

<hr>

## 앞으로 이 프로젝트는 어떻게 될 것인가
